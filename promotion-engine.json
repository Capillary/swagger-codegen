{"swagger":"2.0","info":{"description":"Api Documentation","version":"1.0","title":"Api Documentation","termsOfService":"urn:tos","contact":{},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}},"host":"promotion-engine-api.crm-nightly-new.cc.capillarytech.com","basePath":"/","tags":[{"name":"audit-log-resource","description":"Audit Log Resource"},{"name":"health-check-resource","description":"Health Check Resource"},{"name":"promotion-earning-management-resource","description":"Promotion Earning Management Resource"},{"name":"promotion-earning-resource","description":"Promotion Earning Resource"},{"name":"promotion-meta-resource","description":"Promotion Meta Resource"},{"name":"promotion-redemption-resource","description":"Promotion Redemption Resource"},{"name":"promotion-resource","description":"Promotion Resource"},{"name":"promotion-settings-resource","description":"Promotion Settings Resource"}],"paths":{"/health/isalive":{"get":{"tags":["health-check-resource"],"summary":"isAlive","operationId":"isAliveUsingGET","produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/management/promotions":{"get":{"tags":["promotion-meta-resource"],"summary":"getAllPromotionConfigs","operationId":"getAllPromotionConfigsUsingGET","produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«List«PromotionMetaRO»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"post":{"tags":["promotion-meta-resource"],"summary":"createPromotionConfig","operationId":"createPromotionConfigUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"promotion","description":"promotion","required":true,"schema":{"$ref":"#/definitions/PromotionMetaROReq"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«PromotionMetaRO»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/management/promotions/auditLogs/versions":{"get":{"tags":["audit-log-resource"],"summary":"getAuditLogVersions","operationId":"getAuditLogVersionsUsingGET","produces":["application/json"],"parameters":[{"name":"endDate","in":"query","required":false,"type":"integer","format":"int64"},{"name":"entityId","in":"query","required":true,"type":"string"},{"name":"entityType","in":"query","required":true,"type":"string","enum":["PROMOTION_META","PROMOTION_SETTING"]},{"name":"limit","in":"query","required":false,"type":"integer","format":"int32"},{"name":"order","in":"query","required":false,"type":"string","enum":["ASC","DESC"]},{"name":"pageNumber","in":"query","required":false,"type":"integer","format":"int32"},{"name":"startDate","in":"query","required":false,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«List«AuditLogVersionRO»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/management/promotions/auditLogs/{entityType}/{entityId}/{version}":{"get":{"tags":["audit-log-resource"],"summary":"getAuditLogEntity","operationId":"getAuditLogEntityUsingGET","produces":["application/json"],"parameters":[{"name":"entityId","in":"path","description":"entityId","required":true,"type":"string"},{"name":"entityType","in":"path","description":"entityType","required":true,"type":"string","enum":["PROMOTION_META","PROMOTION_SETTING"]},{"name":"version","in":"path","description":"version","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«object»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/management/promotions/filters":{"get":{"tags":["promotion-meta-resource"],"summary":"getFilteredPromotions","operationId":"getFilteredPromotionsUsingGET","produces":["application/json"],"parameters":[{"name":"active","in":"query","required":false,"type":"boolean"},{"name":"campaignId","in":"query","required":false,"type":"string"},{"name":"endDate","in":"query","required":false,"type":"integer","format":"int64"},{"name":"limit","in":"query","required":false,"type":"integer","format":"int32"},{"name":"name","in":"query","required":false,"type":"string"},{"name":"order","in":"query","required":false,"type":"string","enum":["ASC","DESC"]},{"name":"pageNumber","in":"query","required":false,"type":"integer","format":"int32"},{"name":"promotionType","in":"query","required":false,"type":"string","enum":["CUSTOMER","EARNING","POS","REWARD"]},{"name":"sortOn","in":"query","required":false,"type":"string","enum":["ID","NAME","START_DATE"]},{"name":"startDate","in":"query","required":false,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«List«PromotionSummaryRO»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/management/promotions/settings/custom_field":{"get":{"tags":["promotion-settings-resource"],"summary":"getPromotionCustomFields","operationId":"getPromotionCustomFieldsUsingGET","produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«List«CustomMetadataFieldRO»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"post":{"tags":["promotion-settings-resource"],"summary":"savePromotionCustomFields","operationId":"savePromotionCustomFieldsUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"customMetadataFields","description":"customMetadataFields","required":true,"schema":{"type":"array","items":{"$ref":"#/definitions/CustomMetadataFieldRO"}}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«List«CustomMetadataFieldRO»»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/management/promotions/settings/strategy":{"get":{"tags":["promotion-settings-resource"],"summary":"getPromotionStrategy","operationId":"getPromotionStrategyUsingGET","produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«PromotionStrategyRO»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"post":{"tags":["promotion-settings-resource"],"summary":"savePromotionStrategy","operationId":"savePromotionStrategyUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"promotionStrategy","description":"promotionStrategy","required":true,"schema":{"$ref":"#/definitions/PromotionStrategyRO"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«PromotionStrategyRO»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/management/promotions/{promotionId}":{"get":{"tags":["promotion-meta-resource"],"summary":"getPromotionConfig","operationId":"getPromotionConfigUsingGET","produces":["application/json"],"parameters":[{"name":"promotionId","in":"path","description":"promotionId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«PromotionMetaRO»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"put":{"tags":["promotion-meta-resource"],"summary":"updatePromotionConfig","operationId":"updatePromotionConfigUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"promotion","description":"promotion","required":true,"schema":{"$ref":"#/definitions/PromotionMetaROReq"}},{"name":"promotionId","in":"path","description":"promotionId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«PromotionMetaRO»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/management/promotions/{promotionId}/activate":{"put":{"tags":["promotion-meta-resource"],"summary":"activatePromotion","operationId":"activatePromotionUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"promotionId","in":"path","description":"promotionId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«boolean»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/management/promotions/{promotionId}/deactivate":{"put":{"tags":["promotion-meta-resource"],"summary":"deactivatePromotion","operationId":"deactivatePromotionUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"promotionId","in":"path","description":"promotionId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«boolean»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/management/promotions/{promotionId}/issueBulk":{"post":{"tags":["promotion-earning-management-resource"],"summary":"issuePromotionsInBulk","operationId":"issuePromotionsInBulkUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"contextId","in":"query","description":"contextId","required":true,"type":"string"},{"in":"body","name":"customerIds","description":"customerIds","required":true,"schema":{"type":"array","items":{"type":"integer","format":"int64"}}},{"name":"promotionId","in":"path","description":"promotionId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«Map«long,CustomerEarnedPromotionRO»»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/promotions/config":{"get":{"tags":["promotion-resource"],"summary":"getPromotionConfig","operationId":"getPromotionConfigUsingGET_1","produces":["application/json"],"parameters":[{"name":"includeExpired","in":"query","required":false,"type":"boolean"},{"name":"includeInactive","in":"query","required":false,"type":"boolean"},{"name":"promotionIds","in":"query","required":true,"type":"array","items":{"type":"string"},"collectionFormat":"multi"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«List«PromotionConfigRO»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/promotions/customer/{customerId}":{"get":{"tags":["promotion-earning-resource"],"summary":"getAllForCustomer","operationId":"getAllForCustomerUsingGET","produces":["application/json"],"parameters":[{"name":"customerId","in":"path","description":"customerId","required":true,"type":"integer","format":"int64"},{"name":"entityId","in":"query","required":false,"type":"integer","format":"int64"},{"name":"includeExpired","in":"query","required":false,"type":"boolean"},{"name":"limit","in":"query","required":false,"type":"integer","format":"int32"},{"name":"order","in":"query","required":false,"type":"string","enum":["ASC","DESC"]},{"name":"pageNumber","in":"query","required":false,"type":"integer","format":"int32"},{"name":"sortOn","in":"query","required":false,"type":"string","enum":["EVENT_TIME","VALID_TILL"]}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«List«CustomerPromotionRO»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/promotions/evaluate":{"post":{"tags":["promotion-redemption-resource"],"summary":"evaluatePromotionOnCart","operationId":"evaluatePromotionOnCartUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"cart","description":"cart","required":true,"schema":{"$ref":"#/definitions/CartRO"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«CartRO»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/promotions/redemptions":{"get":{"tags":["promotion-redemption-resource"],"summary":"getRedemptions","operationId":"getRedemptionsUsingGET","produces":["application/json"],"parameters":[{"name":"customerId","in":"query","required":false,"type":"integer","format":"int64"},{"name":"limit","in":"query","required":false,"type":"integer","format":"int32"},{"name":"order","in":"query","required":false,"type":"string","enum":["ASC","DESC"]},{"name":"pageNumber","in":"query","required":false,"type":"integer","format":"int32"},{"name":"promotionId","in":"query","required":false,"type":"string"},{"name":"sortOn","in":"query","required":false,"type":"string","enum":["REDEMPTION_DATE"]},{"name":"transactionEntityIdentifier","in":"query","required":false,"type":"string"},{"name":"transactionIdentifier","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«List«PromotionRedemptionRO»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/promotions/till/{tillId}":{"get":{"tags":["promotion-resource"],"summary":"getAllActivePosPromotionForTill","operationId":"getAllActivePosPromotionForTillUsingGET","produces":["application/json"],"parameters":[{"name":"tillId","in":"path","description":"tillId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«List«PromotionMetaRO»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/promotions/{promotionId}/activate":{"post":{"tags":["promotion-earning-resource"],"summary":"activate","operationId":"activateUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"customerId","in":"query","description":"customerId","required":true,"type":"integer","format":"int64"},{"name":"promotionId","in":"path","description":"promotionId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«boolean»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/promotions/{promotionId}/deactivate":{"post":{"tags":["promotion-earning-resource"],"summary":"deactivate","operationId":"deactivateUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"customerId","in":"query","description":"customerId","required":true,"type":"integer","format":"int64"},{"name":"promotionId","in":"path","description":"promotionId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«boolean»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/promotions/{promotionId}/earn":{"post":{"tags":["promotion-earning-resource"],"summary":"earnPromotion","operationId":"earnPromotionUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"customerEarnedPromotion","description":"customerEarnedPromotion","required":true,"schema":{"$ref":"#/definitions/CustomerEarnedPromotionRO"}},{"name":"promotionId","in":"path","description":"promotionId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseWrapper«CustomerEarnedPromotionRO»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}}},"definitions":{"Action":{"type":"object","required":["type"],"properties":{"cartBasedAction":{"$ref":"#/definitions/CartBasedAction"},"fixedPriceAction":{"$ref":"#/definitions/FixedPriceAction"},"freeProductAction":{"$ref":"#/definitions/FreeProductAction"},"productBasedAction":{"$ref":"#/definitions/ProductBasedAction"},"type":{"type":"string","enum":["CART_BASED","FIXED_PRICE","FREE_PRODUCT","PRODUCT_BASED"]}},"title":"Action"},"ApiError":{"type":"object","properties":{"code":{"type":"integer","format":"int64"},"message":{"type":"string"}},"title":"ApiError"},"AppliedPromotionRO":{"type":"object","properties":{"discount":{"type":"string"},"discountAppliedOnQuantity":{"type":"string"},"identifier":{"type":"string"},"messageLabel":{"type":"string"},"name":{"type":"string"},"promotionAppliedOnQuantity":{"type":"string"},"promotionId":{"type":"string"},"redemptionCount":{"type":"integer","format":"int64"}},"title":"AppliedPromotionRO"},"AuditLogVersionRO":{"type":"object","properties":{"action":{"type":"string"},"triggeredBy":{"type":"integer","format":"int64"},"triggeredOn":{"type":"integer","format":"int64"},"version":{"type":"string"}},"title":"AuditLogVersionRO"},"CartBasedAction":{"type":"object","required":["type","value"],"properties":{"type":{"type":"string","enum":["ABSOLUTE","PERCENTAGE"]},"value":{"type":"string"}},"title":"CartBasedAction"},"CartCondition":{"type":"object","required":["kpi","operator","value"],"properties":{"kpi":{"type":"string","enum":["ITEMCOUNT","SUBTOTAL"]},"operator":{"type":"string","enum":["EQUALS","GREATER_THAN","GREATER_THAN_OR_EQUAL","IN","LESS_THAN","LESS_THAN_OR_EQUAL","NONE"]},"value":{"type":"string"}},"title":"CartCondition"},"CartItemRO":{"type":"object","required":["amount","qty","sku"],"properties":{"amount":{"type":"string"},"appliedPromotions":{"type":"array","items":{"$ref":"#/definitions/AppliedPromotionRO"}},"attributes":{"type":"object","additionalProperties":{"type":"string"}},"brandList":{"type":"array","items":{"type":"string"}},"categoryList":{"type":"array","items":{"type":"string"}},"discount":{"type":"string"},"qty":{"type":"string"},"referenceId":{"type":"string"},"sku":{"type":"string"}},"title":"CartItemRO"},"CartRO":{"type":"object","required":["amount","cartItems","customerId"],"properties":{"amount":{"type":"string"},"appliedPromotions":{"type":"array","items":{"$ref":"#/definitions/AppliedPromotionRO"}},"cartItems":{"type":"array","items":{"$ref":"#/definitions/CartItemRO"}},"categoryHierarchySentInPayload":{"type":"boolean"},"customerId":{"type":"integer","format":"int64"},"evaluationId":{"type":"string"}},"title":"CartRO"},"ComboProductConditionRO":{"type":"object","required":["productConditions"],"properties":{"productConditions":{"type":"array","items":{"$ref":"#/definitions/ProductCondition"}}},"title":"ComboProductConditionRO"},"Condition":{"type":"object","required":["type"],"properties":{"cartCondition":{"$ref":"#/definitions/CartCondition"},"comboProductCondition":{"$ref":"#/definitions/ComboProductConditionRO"},"productCondition":{"$ref":"#/definitions/ProductCondition"},"type":{"type":"string","enum":["CART","COMBO_PRODUCT","PRODUCT"]}},"title":"Condition"},"CustomMetadataFieldRO":{"type":"object","required":["dataType","fieldName"],"properties":{"dataType":{"type":"string","enum":["DATE","NUMBER","STRING"]},"fieldName":{"type":"string"},"isRequired":{"type":"boolean"}},"title":"CustomMetadataFieldRO"},"CustomerEarnedPromotionRO":{"type":"object","required":["customerId","earnedFromId","earnedFromType","eventDetails","eventTime"],"properties":{"customerId":{"type":"integer","format":"int64"},"earnedFromId":{"type":"string"},"earnedFromType":{"type":"string","enum":["ACTIVITY","BULK_ISSUE","MILESTONE","REWARD"]},"eventDetails":{"$ref":"#/definitions/EventDetailsRO"},"eventTime":{"type":"integer","format":"int64"},"id":{"type":"string"},"promotionId":{"type":"string"},"validTill":{"type":"integer","format":"int64"}},"title":"CustomerEarnedPromotionRO"},"CustomerPromotionRO":{"type":"object","properties":{"customFieldValues":{"type":"object","additionalProperties":{"type":"string"}},"customerId":{"type":"integer","format":"int64"},"earnedFromId":{"type":"string"},"earnedStatus":{"type":"string","enum":["LOCKED","UNLOCKED"]},"earnedType":{"type":"string","enum":["MILESTONE_EARN","NONE","REWARD","SINGLE_ACTIVITY_EARN"]},"mileStoneId":{"type":"integer","format":"int64"},"promotionId":{"type":"string"},"promotionName":{"type":"string"},"promotionStatus":{"type":"string","enum":["ACTIVE","INACTIVE"]},"validTill":{"type":"integer","format":"int64"}},"title":"CustomerPromotionRO"},"Duration":{"type":"object","properties":{"period":{"type":"integer","format":"int32"},"type":{"type":"string","enum":["DAYS","HOURS","MINUTES"]}},"title":"Duration"},"EarningCriteriaRO":{"type":"object","required":["earnedFromType"],"properties":{"active":{"type":"boolean"},"criteriaDsl":{"type":"string"},"criteriaDslJson":{"type":"string"},"criteriaName":{"type":"string"},"duration":{"$ref":"#/definitions/Duration"},"earnedFromType":{"type":"string","enum":["ACTIVITY","BULK_ISSUE","MILESTONE","REWARD"]},"eventType":{"type":"string","enum":["CustomerRegistration","CustomerUpdate","TransactionAdd"]},"groupId":{"type":"integer","format":"int64"},"milestoneId":{"type":"integer","format":"int64"},"storeCriteria":{"$ref":"#/definitions/StoreCriteria"},"timeCriteria":{"$ref":"#/definitions/TimeCriteria"}},"title":"EarningCriteriaRO"},"EarningCriteriaROReq":{"type":"object","required":["earnedFromType"],"properties":{"active":{"type":"boolean"},"criteriaDsl":{"type":"string"},"criteriaDslJson":{"type":"string"},"criteriaName":{"type":"string"},"duration":{"$ref":"#/definitions/Duration"},"earnedFromType":{"type":"string","enum":["ACTIVITY","BULK_ISSUE","MILESTONE","REWARD"]},"eventType":{"type":"string","enum":["CustomerRegistration","CustomerUpdate","TransactionAdd"]},"groupId":{"type":"integer","format":"int64"},"milestoneId":{"type":"integer","format":"int64"},"storeCriteria":{"$ref":"#/definitions/StoreCriteria"},"timeCriteria":{"$ref":"#/definitions/TimeCriteriaReq"}},"title":"EarningCriteriaROReq"},"EarningCriteriaRORes":{"type":"object","required":["earnedFromType"],"properties":{"active":{"type":"boolean"},"criteriaDsl":{"type":"string"},"criteriaDslJson":{"type":"string"},"criteriaName":{"type":"string"},"duration":{"$ref":"#/definitions/Duration"},"earnedFromType":{"type":"string","enum":["ACTIVITY","BULK_ISSUE","MILESTONE","REWARD"]},"eventType":{"type":"string","enum":["CustomerRegistration","CustomerUpdate","TransactionAdd"]},"groupId":{"type":"integer","format":"int64"},"milestoneId":{"type":"integer","format":"int64"},"storeCriteria":{"$ref":"#/definitions/StoreCriteria"},"timeCriteria":{"$ref":"#/definitions/TimeCriteriaRes"}},"title":"EarningCriteriaRORes"},"EventDetailsRO":{"type":"object","properties":{"eventPayload":{"type":"object"},"id":{"type":"string"},"type":{"type":"string"}},"title":"EventDetailsRO"},"FixedPriceAction":{"type":"object","required":["value"],"properties":{"productBasedCondition":{"$ref":"#/definitions/Condition"},"value":{"type":"string"}},"title":"FixedPriceAction"},"FreeProductAction":{"type":"object","required":["productBasedCondition"],"properties":{"productBasedCondition":{"$ref":"#/definitions/Condition"}},"title":"FreeProductAction"},"LocalTime":{"type":"object","properties":{"hour":{"type":"integer","format":"int32"},"minute":{"type":"integer","format":"int32"},"nano":{"type":"integer","format":"int32"},"second":{"type":"integer","format":"int32"}},"title":"LocalTime"},"LocalTimeReq":{"type":"object","properties":{"hour":{"type":"string","format":"byte"},"minute":{"type":"string","format":"byte"},"nano":{"type":"integer","format":"int32"},"second":{"type":"string","format":"byte"}},"title":"LocalTimeReq"},"LocalTimeRes":{"type":"object","properties":{"hour":{"type":"integer","format":"int32"},"minute":{"type":"integer","format":"int32"},"nano":{"type":"integer","format":"int32"},"second":{"type":"integer","format":"int32"}},"title":"LocalTimeRes"},"ObjectId":{"type":"object","properties":{"date":{"type":"string","format":"date-time"},"timestamp":{"type":"integer","format":"int32"}},"title":"ObjectId"},"ProductBasedAction":{"type":"object","required":["type","value"],"properties":{"productBasedCondition":{"$ref":"#/definitions/Condition"},"type":{"type":"string","enum":["ABSOLUTE","PERCENTAGE"]},"value":{"type":"string"}},"title":"ProductBasedAction"},"ProductCondition":{"type":"object","required":["criteriaList","kpi"],"properties":{"criteriaList":{"type":"array","items":{"$ref":"#/definitions/ProductSelectionCriteriaRO"}},"kpi":{"type":"string","enum":["AMOUNT","NONE","QUANTITY"]},"operator":{"type":"string","enum":["EQUALS","GREATER_THAN","GREATER_THAN_OR_EQUAL","IN","LESS_THAN","LESS_THAN_OR_EQUAL","NONE"]},"value":{"type":"string"}},"title":"ProductCondition"},"ProductSelectionCriteriaRO":{"type":"object","required":["entity","values"],"properties":{"attributeName":{"type":"string"},"entity":{"type":"string","enum":["ATTRIBUTE","BRAND","CATEGORY","SKU"]},"operator":{"type":"string","enum":["IN","NOT_IN"]},"values":{"type":"array","items":{"type":"string"}}},"title":"ProductSelectionCriteriaRO"},"PromotionConfigRO":{"type":"object","properties":{"customFieldValues":{"type":"object","additionalProperties":{"type":"string"}},"description":{"type":"string"},"expiry":{"type":"integer","format":"int64"},"groupId":{"type":"integer","format":"int64"},"isActive":{"type":"boolean"},"maxEarningPerCustomer":{"type":"integer","format":"int32"},"milestoneId":{"type":"integer","format":"int64"},"promotionId":{"type":"string"},"promotionName":{"type":"string"},"promotionRestrictions":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/definitions/RestrictionKPIRO"}}},"promotionType":{"type":"string","enum":["CUSTOMER","EARNING","POS","REWARD"]},"reward":{"type":"string"},"ruleId":{"type":"integer","format":"int64"},"storeCriteria":{"$ref":"#/definitions/StoreCriteria"}},"title":"PromotionConfigRO"},"PromotionMetaRO":{"type":"object","required":["action","campaignId","endDate","name","startDate","type"],"properties":{"action":{"$ref":"#/definitions/Action"},"active":{"type":"boolean"},"campaignId":{"type":"integer","format":"int64"},"condition":{"$ref":"#/definitions/Condition"},"createdBy":{"type":"integer","format":"int64"},"createdOn":{"type":"string","format":"date-time"},"customFieldValues":{"type":"object","additionalProperties":{"type":"string"}},"earnLimitedToSpecificAudience":{"type":"boolean"},"earningCriteria":{"$ref":"#/definitions/EarningCriteriaRO"},"endDate":{"type":"integer","format":"int64"},"id":{"type":"string"},"lastUpdatedBy":{"type":"integer","format":"int64"},"lastUpdatedOn":{"type":"string","format":"date-time"},"loyaltyEarningExpiryDays":{"type":"integer","format":"int32"},"maxEarningPerCustomer":{"type":"integer","format":"int32"},"messageLabel":{"type":"string"},"name":{"type":"string","minLength":1,"maxLength":50},"orgId":{"type":"integer","format":"int64"},"priority":{"type":"integer","format":"int32"},"promotionRestrictions":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/definitions/RestrictionKPIRO"}}},"startDate":{"type":"integer","format":"int64"},"storeCriteria":{"$ref":"#/definitions/StoreCriteria"},"timeCriteria":{"$ref":"#/definitions/TimeCriteria"},"type":{"type":"string","enum":["CUSTOMER","EARNING","POS","REWARD"]}},"title":"PromotionMetaRO"},"PromotionMetaROReq":{"type":"object","required":["action","campaignId","endDate","name","startDate","type"],"properties":{"action":{"$ref":"#/definitions/Action"},"active":{"type":"boolean"},"campaignId":{"type":"integer","format":"int64"},"condition":{"$ref":"#/definitions/Condition"},"createdBy":{"type":"integer","format":"int64"},"createdOn":{"type":"string","format":"date-time"},"customFieldValues":{"type":"object","additionalProperties":{"type":"string"}},"earnLimitedToSpecificAudience":{"type":"boolean"},"earningCriteria":{"$ref":"#/definitions/EarningCriteriaROReq"},"endDate":{"type":"integer","format":"int64"},"id":{"type":"string"},"lastUpdatedBy":{"type":"integer","format":"int64"},"lastUpdatedOn":{"type":"string","format":"date-time"},"loyaltyEarningExpiryDays":{"type":"integer","format":"int32"},"maxEarningPerCustomer":{"type":"integer","format":"int32"},"messageLabel":{"type":"string"},"name":{"type":"string","minLength":1,"maxLength":50},"orgId":{"type":"integer","format":"int64"},"priority":{"type":"integer","format":"int32"},"promotionRestrictions":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/definitions/RestrictionKPIRO"}}},"startDate":{"type":"integer","format":"int64"},"storeCriteria":{"$ref":"#/definitions/StoreCriteria"},"timeCriteria":{"$ref":"#/definitions/TimeCriteriaReq"},"type":{"type":"string","enum":["CUSTOMER","EARNING","POS","REWARD"]}},"title":"PromotionMetaROReq"},"PromotionMetaRORes":{"type":"object","required":["action","campaignId","endDate","name","startDate","type"],"properties":{"action":{"$ref":"#/definitions/Action"},"active":{"type":"boolean"},"campaignId":{"type":"integer","format":"int64"},"condition":{"$ref":"#/definitions/Condition"},"createdBy":{"type":"integer","format":"int64"},"createdOn":{"type":"string","format":"date-time"},"customFieldValues":{"type":"object","additionalProperties":{"type":"string"}},"earnLimitedToSpecificAudience":{"type":"boolean"},"earningCriteria":{"$ref":"#/definitions/EarningCriteriaRORes"},"endDate":{"type":"integer","format":"int64"},"id":{"type":"string"},"lastUpdatedBy":{"type":"integer","format":"int64"},"lastUpdatedOn":{"type":"string","format":"date-time"},"loyaltyEarningExpiryDays":{"type":"integer","format":"int32"},"maxEarningPerCustomer":{"type":"integer","format":"int32"},"messageLabel":{"type":"string"},"name":{"type":"string","minLength":1,"maxLength":50},"orgId":{"type":"integer","format":"int64"},"priority":{"type":"integer","format":"int32"},"promotionRestrictions":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/definitions/RestrictionKPIRO"}}},"startDate":{"type":"integer","format":"int64"},"storeCriteria":{"$ref":"#/definitions/StoreCriteria"},"timeCriteria":{"$ref":"#/definitions/TimeCriteriaRes"},"type":{"type":"string","enum":["CUSTOMER","EARNING","POS","REWARD"]}},"title":"PromotionMetaRORes"},"PromotionRedemptionRO":{"type":"object","properties":{"amount":{"type":"string"},"cartEvaluationId":{"type":"string"},"customerId":{"type":"integer","format":"int64"},"discount":{"type":"string"},"discountAppliedQuantity":{"type":"string"},"id":{"$ref":"#/definitions/ObjectId"},"orgId":{"type":"integer","format":"int64"},"productId":{"type":"integer","format":"int64"},"promotionAppliedQuantity":{"type":"string"},"promotionId":{"type":"string"},"promotionMessageLabel":{"type":"string"},"promotionName":{"type":"string"},"redemptionCount":{"type":"integer","format":"int64"},"redemptionDate":{"type":"string","format":"date-time"},"redemptionTill":{"type":"integer","format":"int64"},"redemptionType":{"type":"string","enum":["CART","LINEITEM"]},"sku":{"type":"string"},"transactionEntityIdentifier":{"type":"string"},"transactionIdentifier":{"type":"string"},"transactionNumber":{"type":"string"}},"title":"PromotionRedemptionRO"},"PromotionStrategyRO":{"type":"object","required":["promotionRankingStrategy","rewardStrategy"],"properties":{"isActive":{"type":"boolean"},"promotionRankingStrategy":{"type":"string","enum":["EXPIRY_BASED","MAX_DISCOUNT","PRIORITY"]},"rewardStrategy":{"type":"string","enum":["NO_STRATEGY","PROMOTION_FIRST","REWARDS_FIRST"]}},"title":"PromotionStrategyRO"},"PromotionSummaryRO":{"type":"object","properties":{"customFieldValues":{"type":"object","additionalProperties":{"type":"string"}},"endDate":{"type":"integer","format":"int64"},"isActive":{"type":"boolean"},"lastEarned":{"type":"integer","format":"int64"},"lastRedeemed":{"type":"integer","format":"int64"},"orgId":{"type":"integer","format":"int64"},"promotionId":{"type":"string"},"promotionName":{"type":"string"},"promotionType":{"type":"string","enum":["CUSTOMER","EARNING","POS","REWARD"]},"startDate":{"type":"integer","format":"int64"},"targetedCustomerCount":{"type":"integer","format":"int64"},"totalDiscount":{"type":"string"},"totalDiscountAppliedQuantity":{"type":"number","format":"double"},"totalEarned":{"type":"string"},"totalPromotionAppliedQuantity":{"type":"number","format":"double"},"totalRedeemed":{"type":"integer","format":"int64"},"totalTransactions":{"type":"integer","format":"int64"}},"title":"PromotionSummaryRO"},"ResponseWrapper«CartRO»":{"type":"object","properties":{"data":{"$ref":"#/definitions/CartRO"},"errors":{"type":"array","items":{"$ref":"#/definitions/ApiError"}}},"title":"ResponseWrapper«CartRO»"},"ResponseWrapper«CustomerEarnedPromotionRO»":{"type":"object","properties":{"data":{"$ref":"#/definitions/CustomerEarnedPromotionRO"},"errors":{"type":"array","items":{"$ref":"#/definitions/ApiError"}}},"title":"ResponseWrapper«CustomerEarnedPromotionRO»"},"ResponseWrapper«List«AuditLogVersionRO»»":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/definitions/AuditLogVersionRO"}},"errors":{"type":"array","items":{"$ref":"#/definitions/ApiError"}}},"title":"ResponseWrapper«List«AuditLogVersionRO»»"},"ResponseWrapper«List«CustomMetadataFieldRO»»":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/definitions/CustomMetadataFieldRO"}},"errors":{"type":"array","items":{"$ref":"#/definitions/ApiError"}}},"title":"ResponseWrapper«List«CustomMetadataFieldRO»»"},"ResponseWrapper«List«CustomerPromotionRO»»":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/definitions/CustomerPromotionRO"}},"errors":{"type":"array","items":{"$ref":"#/definitions/ApiError"}}},"title":"ResponseWrapper«List«CustomerPromotionRO»»"},"ResponseWrapper«List«PromotionConfigRO»»":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/definitions/PromotionConfigRO"}},"errors":{"type":"array","items":{"$ref":"#/definitions/ApiError"}}},"title":"ResponseWrapper«List«PromotionConfigRO»»"},"ResponseWrapper«List«PromotionMetaRO»»":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/definitions/PromotionMetaRO"}},"errors":{"type":"array","items":{"$ref":"#/definitions/ApiError"}}},"title":"ResponseWrapper«List«PromotionMetaRO»»"},"ResponseWrapper«List«PromotionRedemptionRO»»":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/definitions/PromotionRedemptionRO"}},"errors":{"type":"array","items":{"$ref":"#/definitions/ApiError"}}},"title":"ResponseWrapper«List«PromotionRedemptionRO»»"},"ResponseWrapper«List«PromotionSummaryRO»»":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/definitions/PromotionSummaryRO"}},"errors":{"type":"array","items":{"$ref":"#/definitions/ApiError"}}},"title":"ResponseWrapper«List«PromotionSummaryRO»»"},"ResponseWrapper«Map«long,CustomerEarnedPromotionRO»»":{"type":"object","properties":{"data":{"type":"object","additionalProperties":{"$ref":"#/definitions/CustomerEarnedPromotionRO"}},"errors":{"type":"array","items":{"$ref":"#/definitions/ApiError"}}},"title":"ResponseWrapper«Map«long,CustomerEarnedPromotionRO»»"},"ResponseWrapper«PromotionMetaRO»":{"type":"object","properties":{"data":{"$ref":"#/definitions/PromotionMetaRORes"},"errors":{"type":"array","items":{"$ref":"#/definitions/ApiError"}}},"title":"ResponseWrapper«PromotionMetaRO»"},"ResponseWrapper«PromotionStrategyRO»":{"type":"object","properties":{"data":{"$ref":"#/definitions/PromotionStrategyRO"},"errors":{"type":"array","items":{"$ref":"#/definitions/ApiError"}}},"title":"ResponseWrapper«PromotionStrategyRO»"},"ResponseWrapper«boolean»":{"type":"object","properties":{"data":{"type":"boolean"},"errors":{"type":"array","items":{"$ref":"#/definitions/ApiError"}}},"title":"ResponseWrapper«boolean»"},"ResponseWrapper«object»":{"type":"object","properties":{"data":{"type":"object"},"errors":{"type":"array","items":{"$ref":"#/definitions/ApiError"}}},"title":"ResponseWrapper«object»"},"RestrictionKPIRO":{"type":"object","properties":{"frequency":{"type":"string","enum":["DAYS","WEEKS"]},"kpi":{"type":"string","enum":["DISCOUNT","REDEMPTION","TRANSACTION"]},"limit":{"type":"number"},"minTimeBetweenRepeat":{"type":"integer","format":"int64"}},"title":"RestrictionKPIRO"},"StoreCriteria":{"type":"object","required":["operator","type","values"],"properties":{"operator":{"type":"string","enum":["IN","NOT_IN"]},"type":{"type":"string","enum":["CONCEPT","STORE","ZONE"]},"values":{"type":"array","items":{"type":"integer","format":"int64"}}},"title":"StoreCriteria"},"TimeCriteria":{"type":"object","properties":{"durationInHours":{"type":"integer","format":"int32"},"monthlyDayValues":{"type":"array","items":{"type":"integer","format":"int32"}},"repeatFrequency":{"type":"string","enum":["DAYS","DOES_NOT_REPEAT","WEEKS"]},"startTime":{"$ref":"#/definitions/LocalTime"},"weeklyValues":{"type":"array","items":{"type":"string","enum":["FRIDAY","MONDAY","SATURDAY","SUNDAY","THURSDAY","TUESDAY","WEDNESDAY"]}}},"title":"TimeCriteria"},"TimeCriteriaReq":{"type":"object","properties":{"durationInHours":{"type":"integer","format":"int32"},"monthlyDayValues":{"type":"array","items":{"type":"integer","format":"int32"}},"repeatFrequency":{"type":"string","enum":["DAYS","DOES_NOT_REPEAT","WEEKS"]},"startTime":{"$ref":"#/definitions/LocalTimeReq"},"weeklyValues":{"type":"array","items":{"type":"string","enum":["FRIDAY","MONDAY","SATURDAY","SUNDAY","THURSDAY","TUESDAY","WEDNESDAY"]}}},"title":"TimeCriteriaReq"},"TimeCriteriaRes":{"type":"object","properties":{"durationInHours":{"type":"integer","format":"int32"},"monthlyDayValues":{"type":"array","items":{"type":"integer","format":"int32"}},"repeatFrequency":{"type":"string","enum":["DAYS","DOES_NOT_REPEAT","WEEKS"]},"startTime":{"$ref":"#/definitions/LocalTimeRes"},"weeklyValues":{"type":"array","items":{"type":"string","enum":["FRIDAY","MONDAY","SATURDAY","SUNDAY","THURSDAY","TUESDAY","WEDNESDAY"]}}},"title":"TimeCriteriaRes"}}}
